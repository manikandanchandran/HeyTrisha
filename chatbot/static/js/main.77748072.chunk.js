(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),l=a(5),s=a(16),r=a(17);var c=e=>{let{onMinimize:t}=e;return o.a.createElement("div",{className:"bg-blue-500 text-white p-4 rounded-t-lg flex items-center justify-between"},o.a.createElement("div",{className:"flex items-center gap-2"},o.a.createElement(s.a,{className:"w-6 h-6"}),o.a.createElement("h2",{className:"font-semibold"},"Hey Trisha")),o.a.createElement("button",{onClick:t,className:"hover:bg-blue-600 p-1 rounded transition-colors"},o.a.createElement(r.a,{className:"w-5 h-5"})))},i=a(18);var m=e=>{let{message:t}=e;const a="user"===t.sender,n=new Date(t.timestamp);return o.a.createElement("div",{className:"flex gap-3 ".concat(a?"flex-row-reverse":""," mb-4")},o.a.createElement("div",{className:"w-8 h-8 rounded-full flex items-center justify-center"},a?o.a.createElement("div",{className:"bg-blue-500 w-8 h-8 flex items-center justify-center rounded-full"},o.a.createElement(i.a,{className:"w-5 h-5 text-white"})):o.a.createElement("img",{src:"/boticon.jpg",alt:"Bot",className:"w-8 h-9 rounded-full"})),o.a.createElement("div",{className:"max-w-[70%] ".concat(a?"bg-blue-500 text-white":"bg-gray-100"," rounded-lg p-3")},o.a.createElement("p",{className:"text-sm"},t.content),o.a.createElement("span",{className:"text-xs opacity-70 mt-1 block"},n.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}))))},d=a(19);var u=e=>{let{onSendMessage:t}=e;const[a,l]=Object(n.useState)("");return o.a.createElement("form",{onSubmit:e=>{e.preventDefault(),a.trim()&&(t(a),l(""))},className:"border-t p-4"},o.a.createElement("div",{className:"flex gap-2"},o.a.createElement("input",{type:"text",value:a,onChange:e=>l(e.target.value),placeholder:"Type a message...",className:"flex-1 rounded-full px-4 py-2 bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500"}),o.a.createElement("button",{type:"submit",className:"bg-blue-500 text-white rounded-full p-2 hover:bg-blue-600 transition-colors"},o.a.createElement(d.a,{className:"w-5 h-5"}))))};var g=()=>{const[e,t]=Object(n.useState)(!1),[a,l]=Object(n.useState)([{content:"Hello! How can I help you today?",sender:"bot",timestamp:new Date}]);return console.log("ChatWidget rendered"),e?o.a.createElement("div",{className:"fixed bottom-4 right-4 w-96 bg-white rounded-lg shadow-xl flex flex-col"},o.a.createElement(c,{onMinimize:()=>t(!1)}),o.a.createElement("div",{className:"flex-1 p-4 h-96 overflow-y-auto"},a.map((e,t)=>o.a.createElement(m,{key:t,message:e}))),o.a.createElement(u,{onSendMessage:async e=>{const t={content:e,sender:"user",timestamp:new Date};l(e=>[...e,t]);try{const t=await fetch("http://localhost:8000/api/query",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:e})});if(!t.ok)throw new Error("Failed to fetch");const n={content:(await t.json()).reply,sender:"bot",timestamp:new Date};l(e=>[...e,n])}catch(a){console.error("API Error:",a),l(e=>[...e,{content:"Error! Try again later.",sender:"bot",timestamp:new Date}])}}})):o.a.createElement("button",{onClick:()=>t(!0),className:"fixed bottom-4 right-4 bg-blue-500 text-white p-4 rounded-full shadow-lg hover:bg-blue-600"},o.a.createElement(s.a,{className:"w-6 h-6"}))};console.log("\u2705 React: index.js is loaded"),window.ChatWidget=g,document.addEventListener("DOMContentLoaded",()=>{console.log("\u2705 DOM is loaded, searching for #chatbot-root..."),setTimeout(()=>{const e=document.getElementById("chatbot-root");if(e){console.log("\u2705 #chatbot-root found! Mounting React..."),Object(l.createRoot)(e).render(o.a.createElement(g,null)),console.log("\u2705 React chatbot successfully rendered!")}else console.error("\u274c #chatbot-root div is missing!")},1e3)})},6:function(e,t,a){e.exports=a(15)}},[[6,1,2]]]);
//# sourceMappingURL=main.77748072.chunk.js.map